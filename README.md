# AuthTemplate

<div align="center">
  <div>
    <button onclick="showLanguage('ru')">–†—É—Å—Å–∫–∏–π</button>
    <button onclick="showLanguage('en')">English</button>
    <button onclick="showLanguage('zh')">‰∏≠Êñá</button>
  </div>
</div>

<script>
  function showLanguage(lang) {
    document.querySelectorAll('.language-section').forEach(section => {
      section.style.display = section.id === lang ? 'block' : 'none';
    });
  }
  document.addEventListener('DOMContentLoaded', () => showLanguage('en'));
</script>

---

<div id="ru" class="language-section" style="display: none;">
## üá∑üá∫ –†—É—Å—Å–∫–∏–π

### üìã –í–≤–µ–¥–µ–Ω–∏–µ

**AuthTemplate** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:

- **Backend**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ Flask (Python) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ORM, –º–∏–≥—Ä–∞—Ü–∏–π –∏ JWT-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **Frontend**: –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –Ω–∞ Next.js/React —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UI –∏ –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å API

–î–∞–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –≥–æ—Ç–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –±–∞–∑–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

#### Frontend (Next.js)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É frontend:

```bash
cd frontend
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pnpm i  # –∏–ª–∏ npm i
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –ø–æ –ø—Ä–∏–º–µ—Ä—É `.env.example`:

```
NEXT_PUBLIC_URL="http://localhost:7018"
NEXT_PUBLIC_API_URL='http://127.0.0.1:7020/api'
```

> **–í–∞–∂–Ω–æ**: –ù–µ –∑–∞–±—É–¥—å—Ç–µ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏–ø–∏—Å–∫—É `/api` –≤ `NEXT_PUBLIC_API_URL`!

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç:

```bash
pnpm run dev  # –∏–ª–∏ npm run dev
```

#### Backend (Flask)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É backend:

```bash
cd backend
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è Windows
venv\Scripts\activate

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –¥–ª—è macOS/Linux
source venv/bin/activate
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

4. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –ø–æ –ø—Ä–∏–º–µ—Ä—É `.env.example`.

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è backend:**

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                    |
| --------------------------- | ----------------------------------------------------------- |
| `FLASK_APP`                 | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flask                              |
| `FLASK_ENV`                 | –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (development/production)                       |
| `FLASK_DEBUG`               | –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ (1/0)                   |
| `DATABASE_URL`              | URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö                           |
| `DEV_DATABASE_URL`          | URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏       |
| `SECRET_KEY`                | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Å—Å–∏–π                        |
| `JWT_SECRET_KEY`            | –ö–ª—é—á –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤                                        |
| `JWT_COOKIE_CSRF_PROTECT`   | –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF –≤ cookie (True/False)                        |
| `JWT_ACCESS_TOKEN_EXPIRES`  | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ access —Ç–æ–∫–µ–Ω–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)                      |
| `JWT_REFRESH_TOKEN_EXPIRES` | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ refresh —Ç–æ–∫–µ–Ω–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)                     |
| `JWT_TOKEN_LOCATION`        | –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤ (headers, cookies)               |
| `SMTP_SERVER`               | SMTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—á—Ç—ã                              |
| `SMTP_PORT`                 | –ü–æ—Ä—Ç SMTP —Å–µ—Ä–≤–µ—Ä–∞                                           |
| `SMTP_USERNAME`             | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è SMTP —Å–µ—Ä–≤–µ—Ä–∞                           |
| `SMTP_PASSWORD`             | –ü–∞—Ä–æ–ª—å –¥–ª—è SMTP —Å–µ—Ä–≤–µ—Ä–∞                                     |
| `SENDER_EMAIL`              | Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è                                           |
| `FRONTEND_URL`              | URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è                                     |
| `TOKEN_SALT`                | –°–æ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤                                  |
| `TOKEN_LIFETIME`            | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)                             |
| `LOG_LEVEL`                 | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR, CRITICAL) |
| `LOG_FILE`                  | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –ª–æ–≥–æ–≤                                          |

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

```bash
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
python run_dev.py

# –†–µ–∂–∏–º –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –¥–ª—è UNIX-—Å–∏—Å—Ç–µ–º
python run_prod_unix.py

# –†–µ–∂–∏–º –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –¥–ª—è Windows (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python run_prod_windows.py
```

> **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API** –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É [http://127.0.0.1:7020/api/docs](http://127.0.0.1:7020/api/docs) –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
AuthTemplate/
‚îú‚îÄ‚îÄ backend/                  # Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/                  # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/              # API –º–∞—Ä—à—Ä—É—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ extensions.py     # –†–∞—Å—à–∏—Ä–µ–Ω–∏—è Flask
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ migrations/           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îÇ
‚îú‚îÄ‚îÄ frontend/                 # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ public/               # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ src/                  # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/            # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/            # React —Ö—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store/            # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ .env.example          # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ package.json          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã NPM
‚îÇ
‚îî‚îÄ‚îÄ README.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

### üìä –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `username` - –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `email` - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞
- `password_hash` - –•–µ—à –ø–∞—Ä–æ–ª—è
- `first_name` - –ò–º—è
- `last_name` - –§–∞–º–∏–ª–∏—è
- `patronymic` - –û—Ç—á–µ—Å—Ç–≤–æ
- `is_active` - –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `last_login` - –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `deleted` - –ü—Ä–∏–∑–Ω–∞–∫ —É–¥–∞–ª–µ–Ω–∏—è (soft delete)

#### Role (–†–æ–ª—å)

- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–æ–ª–∏
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `deleted` - –ü—Ä–∏–∑–Ω–∞–∫ —É–¥–∞–ª–µ–Ω–∏—è

#### UserRole (–°–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ä–æ–ª–∏)

- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `role_id` - ID —Ä–æ–ª–∏
- `created_at` - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `updated_at` - –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `deleted` - –ü—Ä–∏–∑–Ω–∞–∫ —É–¥–∞–ª–µ–Ω–∏—è

#### UserSession (–°–µ—Å—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

- `id` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `user_id` - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `refresh_token` - –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `user_agent` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ
- `ip_address` - IP –∞–¥—Ä–µ—Å
- `browser_family` - –°–µ–º–µ–π—Å—Ç–≤–æ –±—Ä–∞—É–∑–µ—Ä–∞
- `browser_version` - –í–µ—Ä—Å–∏—è –±—Ä–∞—É–∑–µ—Ä–∞
- `os_family` - –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- `os_version` - –í–µ—Ä—Å–∏—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- `device_family` - –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `device_brand` - –ë—Ä–µ–Ω–¥ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `device_model` - –ú–æ–¥–µ–ª—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `is_mobile` - –ü—Ä–∏–∑–Ω–∞–∫ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `is_tablet` - –ü—Ä–∏–∑–Ω–∞–∫ –ø–ª–∞–Ω—à–µ—Ç–∞
- `is_pc` - –ü—Ä–∏–∑–Ω–∞–∫ –ü–ö
- `is_bot` - –ü—Ä–∏–∑–Ω–∞–∫ –±–æ—Ç–∞
- `expires_at` - –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è
- `is_active` - –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
</div>

<div id="en" class="language-section" style="display: block;">
## üá¨üáß English

### üìã Introduction

**AuthTemplate** is a complete template containing authentication functionality for a full-fledged web application. It includes:

- **Backend**: Implemented using Flask (Python) with ORM support, migrations, and JWT authentication
- **Frontend**: Developed with Next.js/React featuring a modern UI and full API integration

This template will significantly reduce your project development time by providing a ready-to-use authentication system and basic application architecture.

### üöÄ Installation Guide

#### Frontend (Next.js)

1. Navigate to the frontend folder:

```bash
cd frontend
```

2. Install dependencies:

```bash
pnpm i  # or npm i
```

3. Create a `.env` file based on `.env.example`:

```
NEXT_PUBLIC_URL="http://localhost:7018"
NEXT_PUBLIC_API_URL='http://127.0.0.1:7020/api'
```

> **Important**: Don't forget to include the `/api` suffix in `NEXT_PUBLIC_API_URL`!

4. Start the client:

```bash
pnpm run dev  # or npm run dev
```

#### Backend (Flask)

1. Navigate to the backend folder:

```bash
cd backend
```

2. Create a virtual environment:

```bash
# Creation
python -m venv venv

# Activation for Windows
venv\Scripts\activate

# Activation for macOS/Linux
source venv/bin/activate
```

3. Install dependencies:

```bash
pip install -r requirements.txt
```

4. Create a `.env` file based on `.env.example`.

**Backend environment variables:**

| Variable                    | Description                                           |
| --------------------------- | ----------------------------------------------------- |
| `FLASK_APP`                 | Flask application entry point                         |
| `FLASK_ENV`                 | Operating mode (development/production)               |
| `FLASK_DEBUG`               | Enable/disable debug mode (1/0)                       |
| `DATABASE_URL`              | Database connection URL                               |
| `DEV_DATABASE_URL`          | Development database connection URL                   |
| `SECRET_KEY`                | Secret key for session encryption                     |
| `JWT_SECRET_KEY`            | Key for JWT tokens                                    |
| `JWT_COOKIE_CSRF_PROTECT`   | CSRF protection for cookies (True/False)              |
| `JWT_ACCESS_TOKEN_EXPIRES`  | Access token lifetime (in seconds)                    |
| `JWT_REFRESH_TOKEN_EXPIRES` | Refresh token lifetime (in seconds)                   |
| `JWT_TOKEN_LOCATION`        | JWT token location (headers, cookies)                 |
| `SMTP_SERVER`               | SMTP server for sending emails                        |
| `SMTP_PORT`                 | SMTP server port                                      |
| `SMTP_USERNAME`             | SMTP server username                                  |
| `SMTP_PASSWORD`             | SMTP server password                                  |
| `SENDER_EMAIL`              | Sender email address                                  |
| `FRONTEND_URL`              | Frontend application URL                              |
| `TOKEN_SALT`                | Salt for token generation                             |
| `TOKEN_LIFETIME`            | Token lifetime (in seconds)                           |
| `LOG_LEVEL`                 | Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL) |
| `LOG_FILE`                  | Log file path                                         |

5. Launch the server:

```bash
# Development mode
python run_dev.py

# Production mode for UNIX systems
python run_prod_unix.py

# Production mode for Windows (not recommended)
python run_prod_windows.py
```

> **API Documentation** is available at [http://127.0.0.1:7020/api/docs](http://127.0.0.1:7020/api/docs) after starting the server.

### üìÇ Project Structure

```
AuthTemplate/
‚îú‚îÄ‚îÄ backend/                  # Flask application
‚îÇ   ‚îú‚îÄ‚îÄ app/                  # Main application module
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/              # API routes and resources
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/           # Data models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # Application business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ extensions.py     # Flask extensions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py         # Application configuration
‚îÇ   ‚îú‚îÄ‚îÄ migrations/           # Database migrations
‚îÇ   ‚îú‚îÄ‚îÄ .env.example          # Environment file example
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt      # Python dependencies
‚îÇ
‚îú‚îÄ‚îÄ frontend/                 # Next.js application
‚îÇ   ‚îú‚îÄ‚îÄ public/               # Static files
‚îÇ   ‚îú‚îÄ‚îÄ src/                  # Source code
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # React components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/            # Application pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/            # React hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # Services for API interaction
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store/            # State management
‚îÇ   ‚îú‚îÄ‚îÄ .env.example          # Environment file example
‚îÇ   ‚îî‚îÄ‚îÄ package.json          # NPM dependencies and scripts
‚îÇ
‚îî‚îÄ‚îÄ README.md                 # Project documentation
```

### üìä Database Models

#### User

- `id` - Unique identifier
- `username` - User login
- `email` - Email address
- `password_hash` - Password hash
- `first_name` - First name
- `last_name` - Last name
- `patronymic` - Patronymic/middle name
- `is_active` - Activity status
- `last_login` - Last login date
- `created_at` - Creation date
- `updated_at` - Update date
- `deleted` - Deletion flag (soft delete)

#### Role

- `id` - Unique identifier
- `name` - Role name
- `description` - Role description
- `created_at` - Creation date
- `updated_at` - Update date
- `deleted` - Deletion flag

#### UserRole (User-role relationship)

- `id` - Unique identifier
- `user_id` - User ID
- `role_id` - Role ID
- `created_at` - Creation date
- `updated_at` - Update date
- `deleted` - Deletion flag

#### UserSession

- `id` - Unique identifier
- `user_id` - User ID
- `refresh_token` - Refresh token
- `user_agent` - Browser information
- `ip_address` - IP address
- `browser_family` - Browser family
- `browser_version` - Browser version
- `os_family` - Operating system
- `os_version` - OS version
- `device_family` - Device type
- `device_brand` - Device brand
- `device_model` - Device model
- `is_mobile` - Mobile device flag
- `is_tablet` - Tablet device flag
- `is_pc` - PC flag
- `is_bot` - Bot flag
- `expires_at` - Expiration date
- `is_active` - Activity status
</div>

<div id="zh" class="language-section" style="display: none;">
## üá®üá≥ ‰∏≠Êñá

### üìã ‰ªãÁªç

**AuthTemplate** ÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊ®°ÊùøÔºåÂê´ÊúâÂÖ®ÂäüËÉΩWebÂ∫îÁî®Á®ãÂ∫èÁöÑÊéàÊùÉÂäüËÉΩ„ÄÇÂåÖÊã¨Ôºö

- **ÂêéÁ´Ø**ÔºöÂü∫‰∫éFlask (Python)ÂÆûÁé∞ÔºåÊîØÊåÅORM„ÄÅÊï∞ÊçÆËøÅÁßªÂíåJWTÊéàÊùÉ
- **ÂâçÁ´Ø**ÔºöÂü∫‰∫éNext.js/ReactÂºÄÂèëÔºåÂÖ∑ÊúâÁé∞‰ª£UIÂíåÂÆåÊï¥ÁöÑAPIÈõÜÊàê

Ê≠§Ê®°ÊùøÂ∞ÜÈÄöËøáÊèê‰æõÁé∞ÊàêÁöÑÊéàÊùÉÁ≥ªÁªüÂíåÂü∫Êú¨Â∫îÁî®Á®ãÂ∫èÊû∂ÊûÑÔºåÊòæËëóÁº©Áü≠ÊÇ®ÁöÑÈ°πÁõÆÂºÄÂèëÊó∂Èó¥„ÄÇ

### üöÄ ÂÆâË£ÖÊåáÂçó

#### ÂâçÁ´Ø (Next.js)

1. ËøõÂÖ•ÂâçÁ´ØÊñá‰ª∂Â§πÔºö

```bash
cd frontend
```

2. ÂÆâË£Ö‰æùËµñÔºö

```bash
pnpm i  # Êàñ npm i
```

3. Ê†πÊçÆ`.env.example`ÂàõÂª∫`.env`Êñá‰ª∂Ôºö

```
NEXT_PUBLIC_URL="http://localhost:7018"
NEXT_PUBLIC_API_URL='http://127.0.0.1:7020/api'
```

> **ÈáçË¶Å**Ôºö‰∏çË¶ÅÂøòËÆ∞Âú®`NEXT_PUBLIC_API_URL`‰∏≠ÂåÖÂê´`/api`ÂêéÁºÄÔºÅ

4. ÂêØÂä®ÂÆ¢Êà∑Á´ØÔºö

```bash
pnpm run dev  # Êàñ npm run dev
```

#### ÂêéÁ´Ø (Flask)

1. ËøõÂÖ•ÂêéÁ´ØÊñá‰ª∂Â§πÔºö

```bash
cd backend
```

2. ÂàõÂª∫ËôöÊãüÁéØÂ¢ÉÔºö

```bash
# ÂàõÂª∫
python -m venv venv

# WindowsÊøÄÊ¥ª
venv\Scripts\activate

# macOS/LinuxÊøÄÊ¥ª
source venv/bin/activate
```

3. ÂÆâË£Ö‰æùËµñÔºö

```bash
pip install -r requirements.txt
```

4. Ê†πÊçÆ`.env.example`ÂàõÂª∫`.env`Êñá‰ª∂„ÄÇ

**ÂêéÁ´ØÁéØÂ¢ÉÂèòÈáèÔºö**

| ÂèòÈáè                        | ÊèèËø∞                                             |
| --------------------------- | ------------------------------------------------ |
| `FLASK_APP`                 | FlaskÂ∫îÁî®Á®ãÂ∫èÂÖ•Âè£ÁÇπ                              |
| `FLASK_ENV`                 | ËøêË°åÊ®°Âºè (development/production)                |
| `FLASK_DEBUG`               | ÂêØÁî®/Á¶ÅÁî®Ë∞ÉËØïÊ®°Âºè (1/0)                          |
| `DATABASE_URL`              | Êï∞ÊçÆÂ∫ìËøûÊé•URL                                    |
| `DEV_DATABASE_URL`          | ÂºÄÂèëÊ®°ÂºèÊï∞ÊçÆÂ∫ìËøûÊé•URL                            |
| `SECRET_KEY`                | ‰ºöËØùÂä†ÂØÜÁöÑÂØÜÈí•                                   |
| `JWT_SECRET_KEY`            | JWT‰ª§ÁâåÁöÑÂØÜÈí•                                    |
| `JWT_COOKIE_CSRF_PROTECT`   | CookieÁöÑCSRF‰øùÊä§ (True/False)                    |
| `JWT_ACCESS_TOKEN_EXPIRES`  | ËÆøÈóÆ‰ª§ÁâåÁöÑÁîüÂ≠òÊó∂Èó¥ÔºàÁßíÔºâ                         |
| `JWT_REFRESH_TOKEN_EXPIRES` | Âà∑Êñ∞‰ª§ÁâåÁöÑÁîüÂ≠òÊó∂Èó¥ÔºàÁßíÔºâ                         |
| `JWT_TOKEN_LOCATION`        | JWT‰ª§Áâå‰ΩçÁΩÆ (headers, cookies)                   |
| `SMTP_SERVER`               | ÂèëÈÄÅÈÇÆ‰ª∂ÁöÑSMTPÊúçÂä°Âô®                             |
| `SMTP_PORT`                 | SMTPÊúçÂä°Âô®Á´ØÂè£                                   |
| `SMTP_USERNAME`             | SMTPÊúçÂä°Âô®Áî®Êà∑Âêç                                 |
| `SMTP_PASSWORD`             | SMTPÊúçÂä°Âô®ÂØÜÁ†Å                                   |
| `SENDER_EMAIL`              | Âèë‰ª∂‰∫∫ÁîµÂ≠êÈÇÆÁÆ±                                   |
| `FRONTEND_URL`              | ÂâçÁ´ØÂ∫îÁî®Á®ãÂ∫èURL                                  |
| `TOKEN_SALT`                | ‰ª§ÁâåÁîüÊàêÁöÑÁõê                                     |
| `TOKEN_LIFETIME`            | ‰ª§ÁâåÁîüÂ≠òÊó∂Èó¥ÔºàÁßíÔºâ                               |
| `LOG_LEVEL`                 | Êó•ÂøóÁ∫ßÂà´ (DEBUG, INFO, WARNING, ERROR, CRITICAL) |
| `LOG_FILE`                  | Êó•ÂøóÊñá‰ª∂Ë∑ØÂæÑ                                     |

5. ÂêØÂä®ÊúçÂä°Âô®Ôºö

```bash
# ÂºÄÂèëÊ®°Âºè
python run_dev.py

# UNIXÁ≥ªÁªüÁöÑÁîü‰∫ßÊ®°Âºè
python run_prod_unix.py

# WindowsÁöÑÁîü‰∫ßÊ®°ÂºèÔºà‰∏çÊé®ËçêÔºâ
python run_prod_windows.py
```

> **APIÊñáÊ°£**Âú®ÊúçÂä°Âô®ÂêØÂä®ÂêéÂèØÈÄöËøá [http://127.0.0.1:7020/api/docs](http://127.0.0.1:7020/api/docs) ËÆøÈóÆ„ÄÇ

### üìÇ È°πÁõÆÁªìÊûÑ

```
AuthTemplate/
‚îú‚îÄ‚îÄ backend/                  # FlaskÂ∫îÁî®Á®ãÂ∫è
‚îÇ   ‚îú‚îÄ‚îÄ app/                  # ‰∏ªÂ∫îÁî®Á®ãÂ∫èÊ®°Âùó
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/              # APIË∑ØÁî±ÂíåËµÑÊ∫ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/           # Êï∞ÊçÆÊ®°Âûã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # Â∫îÁî®Á®ãÂ∫è‰∏öÂä°ÈÄªËæë
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ extensions.py     # FlaskÊâ©Â±ï
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py         # Â∫îÁî®Á®ãÂ∫èÈÖçÁΩÆ
‚îÇ   ‚îú‚îÄ‚îÄ migrations/           # Êï∞ÊçÆÂ∫ìËøÅÁßª
‚îÇ   ‚îú‚îÄ‚îÄ .env.example          # ÁéØÂ¢ÉÊñá‰ª∂Á§∫‰æã
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt      # Python‰æùËµñ
‚îÇ
‚îú‚îÄ‚îÄ frontend/                 # Next.jsÂ∫îÁî®Á®ãÂ∫è
‚îÇ   ‚îú‚îÄ‚îÄ public/               # ÈùôÊÄÅÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ src/                  # Ê∫ê‰ª£Á†Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # ReactÁªÑ‰ª∂
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/            # Â∫îÁî®Á®ãÂ∫èÈ°µÈù¢
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/            # ReactÈí©Â≠ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # API‰∫§‰∫íÊúçÂä°
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store/            # Áä∂ÊÄÅÁÆ°ÁêÜ
‚îÇ   ‚îú‚îÄ‚îÄ .env.example          # ÁéØÂ¢ÉÊñá‰ª∂Á§∫‰æã
‚îÇ   ‚îî‚îÄ‚îÄ package.json          # NPM‰æùËµñÂíåËÑöÊú¨
‚îÇ
‚îî‚îÄ‚îÄ README.md                 # È°πÁõÆÊñáÊ°£
```

### üìä Êï∞ÊçÆÂ∫ìÊ®°Âûã

#### User (Áî®Êà∑)

- `id` - ÂîØ‰∏ÄÊ†áËØÜÁ¨¶
- `username` - Áî®Êà∑ÁôªÂΩïÂêç
- `email` - ÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄ
- `password_hash` - ÂØÜÁ†ÅÂìàÂ∏å
- `first_name` - ÂêçÂ≠ó
- `last_name` - ÂßìÊ∞è
- `patronymic` - Áà∂Áß∞
- `is_active` - Ê¥ªÂä®Áä∂ÊÄÅ
- `last_login` - ÊúÄÂêéÁôªÂΩïÊó•Êúü
- `created_at` - ÂàõÂª∫Êó•Êúü
- `updated_at` - Êõ¥Êñ∞Êó•Êúü
- `deleted` - Âà†Èô§Ê†áÂøóÔºàËΩØÂà†Èô§Ôºâ

#### Role

- `id` - ÂîØ‰∏ÄÊ†áËØÜÁ¨¶
- `name` - ËßíËâ≤ÂêçÁß∞
- `description` - ËßíËâ≤ÊèèËø∞
- `created_at` - ÂàõÂª∫Êó•Êúü
- `updated_at` - Êõ¥Êñ∞Êó•Êúü
- `deleted` - Âà†Èô§Ê†áÂøó

#### UserRole (Áî®Êà∑-ËßíËâ≤ÂÖ≥Á≥ª)

- `id` - ÂîØ‰∏ÄÊ†áËØÜÁ¨¶
- `user_id` - Áî®Êà∑ID
- `role_id` - ËßíËâ≤ID
- `created_at` - ÂàõÂª∫Êó•Êúü
- `updated_at` - Êõ¥Êñ∞Êó•Êúü
- `deleted` - Âà†Èô§Ê†áÂøó

#### UserSession (Áî®Êà∑‰ºöËØù)

- `id` - ÂîØ‰∏ÄÊ†áËØÜÁ¨¶
- `user_id` - Áî®Êà∑ID
- `refresh_token` - Âà∑Êñ∞‰ª§Áâå
- `user_agent` - ÊµèËßàÂô®‰ø°ÊÅØ
- `ip_address` - IPÂú∞ÂùÄ
- `browser_family` - ÊµèËßàÂô®Á≥ªÂàó
- `browser_version` - ÊµèËßàÂô®ÁâàÊú¨
- `os_family` - Êìç‰ΩúÁ≥ªÁªü
- `os_version` - Êìç‰ΩúÁ≥ªÁªüÁâàÊú¨
- `device_family` - ËÆæÂ§áÁ±ªÂûã
- `device_brand` - ËÆæÂ§áÂìÅÁâå
- `device_model` - ËÆæÂ§áÂûãÂè∑
- `is_mobile` - ÁßªÂä®ËÆæÂ§áÊ†áÂøó
- `is_tablet` - Âπ≥ÊùøËÆæÂ§áÊ†áÂøó
- `is_pc` - PCÊ†áÂøó
- `is_bot` - Êú∫Âô®‰∫∫Ê†áÂøó
- `expires_at` - Âà∞ÊúüÊó•Êúü
- `is_active` - Ê¥ªÂä®Áä∂ÊÄÅ
</div>
